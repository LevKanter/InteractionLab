<!doctype html> 
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US"> 
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>	
	<title>Canvas 101</title>
	
	<style>
		body {
			background-color: #eeeeee;
		}
		
		canvas {
			display: block;
			margin: 0px auto;
			padding: 10px;
			border: 3px double #cccccc;
		
			
		}
		
	</style>
	
</head>
	
<body>
	
	<canvas width="600" height="400">
		<p>canvas not supported</p>
	</canvas>
	
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
	<script src="Sketch.js"></script>
	<script>
		(function(window, $) {
	
			function circle(x, y, r) {
				this.fillStyle = "rgb(0, 0, 0)";
				this.beginPath();
				this.save();
				this.translate(x, y);
				this.arc(0, 0, r, 0, 2*Math.PI, true);
				this.restore();
				this.closePath();
				this.fill();
			}
			
			var brushsize = 6;
			
			$(document).ready(function() {
			
				Sketch({
					selector: "canvas",
					
					setup: function(instance) {
						instance.ctx.fillStyle = "rgba(0, 150, 30, 1)";
						instance.ctx.fillRect(0, 0, instance.width, instance.height);
						
						var ctx = instance.ctx;
						  for (var i=0;i<6;i++){  
						    for (var j=0;j<6;j++){  
						      ctx.fillStyle = 'rgb(' + Math.floor(255-42.5*i) + ',' +   
						                       Math.floor(255-42.5*j) + ',0)';  
						      ctx.fillRect(j*25,i*25,25,25);  
						    }  
						  }

						console.log(instance);
					},
					update: function(instance) {
						
					},
					draw: function(instance) {
						//instance.ctx.clearRect(0, 0, instance.width, instance.height);
						//return;
						instance.ctx.fillStyle = "rgba(0, 150, 30, .01)";
						instance.ctx.fillRect(0, 0, instance.width, instance.height);
						
						instance.ctx.font = 'italic 400 36px/2 Georgia, sans-serif';
						instance.ctx.fillStyle = "rgb(0, 0, 0)";
						instance.ctx.fillText("hello world", 30, 30);

						if (instance.mousePressed) {
							//circle.call(instance.ctx, instance.mouseX, instance.mouseY, brushsize);
							instance.ctx.fillStyle = "rgb(0, 0, 0)";
							
							instance.ctx.fillRect(instance.mouseX, 0, 1, instance.height);
							instance.ctx.fillRect(0, instance.mouseY, instance.width, 1);
							
							//instance.ctx.fillRect(instance.mouseX, instance.mouseY, brushsize, brushsize);
						}
					},
					mousePressed: function() {
						console.info("mouse pressed!");
					},
					mouseReleased: function() {
						console.info("mouse released!");
					},
					keyPressed: function () {
						
					}
				});
			});
			
			
			
		}(this, this.jQuery));
		
		
		
	</script>
</body>
</html>